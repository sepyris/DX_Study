#include "framework.h"
#include "CollisionScene.h"

CollisionScene::CollisionScene()
{
	view = new MatrixBuffer();

	projection = new MatrixBuffer();
	Matrix orthographic = XMMatrixOrthographicOffCenterLH
	(
		0.0f, (float)WIN_WIDTH, // X좌표 : 0 ~ (창의 가로 크기)
		(float)WIN_HEIGHT, 0.0f, // Y좌표 : (창의 세로 크기) ~ 0
		-1.0f, 1.0f // Z좌표 : -1.0f ~ 1.0f(초기값)
	);

	player = new RectCollider(Vector2(200, 200));
	player->pos = Vector2(WIN_CENTER_X, WIN_CENTER_Y);

	obstackle = new RectCollider(Vector2(50, 400));
	obstackle->pos = Vector2(WIN_CENTER_X / 2, WIN_CENTER_Y);
}

CollisionScene::~CollisionScene()
{
	delete player;
	delete obstackle;

	delete view;
	delete projection;
}

void CollisionScene::Update()
{
	player->WorldUpdate();
	obstackle->WorldUpdate();
}

void CollisionScene::Render()
{
	view->SetVS(1);
	projection->SetVS(2);

	player->Render();
	obstackle->Render();
}
